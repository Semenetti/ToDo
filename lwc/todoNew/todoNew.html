<!-- Todo New -->
<template>
    <lightning-card>
        <lightning-button label="New" onclick={showModal}></lightning-button>
        <template if:true={openModal}>
            <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open slds-modal_small"
                     aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1">
                <div class="slds-modal__container"> <!-- уменьшает ширину и ставит окно в середину экрана-->

                    <!-- заголовок -->
                    <header class="slds-modal__header">
                        <h2 id="modal-heading-01" class="slds-modal__title slds-hyphenate">{headerText}</h2>
                    </header>

                    <!-- тело -->
                    <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">

                        <!-- ввод Record Type -->
                        <template if:false={recordTypeOK}>
                            <div class="slds-grid">
                                <div class="slds-col slds-size_1-of-3"></div>
                                <div class="slds-col slds-size_1-of-3">
                                    <lightning-radio-group name="radioGroup"
                                                           label=""
                                                           options={optionsRadio}
                                                           value={recordTypeIdValue}
                                                           type="radio"
                                                           onchange={handleChangeRecordType}
                                    ></lightning-radio-group>
                                </div>
                            </div>
                        </template>

                        <!-- ввод To Do -->
                        <template if:true={recordTypeOK}>
                            <div class="slds-grid">
                                <div class="slds-col slds-size_8-of-12">

                                    <template if:true={recordTypeOK}>
                                        <p></p>
                                        <lightning-input type="checkbox" label="Priority task" name="input2"
                                                         value={isPriority}
                                                         onchange={handleChangeIsPriority}></lightning-input>
                                    </template>

                                    <template if:true={recordTypeOK}>
                                        <lightning-input type="text" label="Enter todo Name" value={name}
                                                         onchange={handleChangeName}></lightning-input>
                                    </template>

                                    <div class="slds-grid">
                                        <div class="slds-col slds-size_1-of-2">
                                            <template if:true={recordTypeOK}>
                                                <lightning-radio-group name="radioGroupPicklist"
                                                                       label="Select category"
                                                                       options={optionsPicklist}
                                                                       type="radio"
                                                                       onchange={handleChangeCategory}
                                                ></lightning-radio-group>
                                            </template>
                                        </div>

                                        <div class="slds-col slds-size_1-of-2">
                                            <template if:true={showTime}>
                                                <p></p>
                                                <lightning-input type="time" name="input3"
                                                                 label="Time field with placeholder"
                                                                 placeholder="type here..." value={time}
                                                                 onchange={handleChangeTime}></lightning-input>
                                            </template>
                                        </div>
                                    </div>


                                    <template if:true={recordTypeOK}>
                                        <lightning-input type="text" label="Description" value={description}
                                                         onchange={handleChangeDescription}></lightning-input>
                                    </template>

                                </div>

                                <div class="slds-col slds-size_1-of-12"></div>

                                <div class="slds-col slds-size_3-of-12">

                                    <template if:true={recordTypeOK}>
                                        <lightning-input type="checkbox" label="Is periodic task" name="input1"
                                                         value={isPeriodic}
                                                         onchange={handleChangeIsPeriodic}></lightning-input>
                                    </template>

                                    <template if:true={recordTypeOK}>

                                        <template if:true={isPeriodic}>
                                            <lightning-checkbox-group name="checkboxDaysOfWeek"
                                                                      label="Select days of week"
                                                                      options={optionsWeek}
                                                                      value={value}
                                                                      onchange={handleChangeDaysOfWeek}></lightning-checkbox-group>
                                        </template>

                                        <template if:false={isPeriodic}>
                                            <lightning-input type="date" name="inputdate" label="Completion date:"
                                                             value={completion}
                                                             onchange={handleChangeCompletion}></lightning-input>
                                        </template>

                                    </template>
                                </div>
                            </div>
                        </template>

                    </div>

                    <!-- footer -->
                    <footer class="slds-modal__footer">

                        <div class="slds-grid">
                            <div class="slds-col slds-size_1-of-2" align=left>
                                <template if:true={recordTypeOK}>
                                    <button class="slds-button slds-button_brand" onclick={addChecklist}>Add checklist
                                    </button>
                                </template>
                            </div>

                            <div class="slds-col slds-size_1-of-2">
                                <button class="slds-button slds-button_neutral" onclick={closeModal}>Cancel</button>
                                <template if:false={recordTypeOK}>
                                    <button class="slds-button slds-button_brand" onclick={goToNext}>Next</button>
                                </template>
                                <template if:true={recordTypeOK}>
                                    <button class="slds-button slds-button_brand" onclick={saveRecord}>Save</button>
                                </template>
                            </div>
                        </div>

                    </footer>

                </div>
            </section>

            <!-- выкидывает окно -->
            <div class="slds-backdrop slds-backdrop_open"></div>

        </template>
    </lightning-card>
</template>